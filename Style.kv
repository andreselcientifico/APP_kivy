# inicio.kv
#: import SwapTransition kivy.uix.screenmanager.SwapTransition


<UI>:
    transition: SwapTransition()
    Screen:
        name: "inicio"
        on_enter: self.ids.Progress.start()
        MDBoxLayout:
            orientation: 'vertical'
            spacing: dp(12)
            padding: dp(12)
            BoxLayout:
                orientation: "vertical"
                size_hint_y: 0.3
                padding: dp(100)
                spacing: dp(12)
                Image:
                    source: "./Avis.png"
                    size_hint: None,None
                    pos_hint: {"center_x": 0.5}
                    height: self.texture_size[1]

                    canvas.before:
                        Ellipse:
                            pos: self.pos
                            size: self.size
                MDLabel:
                    text: "AVIS"
                    halign: "center"
                    theme_text_color: "Custom"
                    text_color: [0, 0.9, 0.9, 1]
                    font_size: "38sp"
                    bold: True
                    size_hint_y: None
                    height: self.texture_size[1]
                MDProgressBar:
                    id: Progress
                    orientation: 'horizontal'
                    type: "indeterminate"
                    running_duration: 1
                    catching_duration: 1
                    size_hint_y: None
                    height: "2dp"
                MDLabel:
                    text: "By Andres elcientifico"
                    halign: "center"
                    theme_text_color: "Custom"
                    text_color: [0.5, 0.5, 0.5, 1]
                    font_size: "12sp"
                    size_hint_y: None
                    height: self.texture_size[1]
    Screen:
        name: "login"

        MDCard:
            id: card
            size_hint: None, None
            size: 300, 550
            pos_hint: {'center_x': 0.5, 'center_y': 0.5}
            padding: 25
            spacing: 25
            orientation: 'vertical'

            MDRaisedButton:
                text: "Theme"
                on_press: app.switch_theme_style()
                pos_hint: {"center_x": .5, "center_y":.55}

            MDLabel:
                id: welcome_label
                text: "Login"
                font_size: 40
                halign: 'center'
                size_hint_y: None
                height: self.texture_size[1]
                
            MDTextField:
                id: user
                hint_text: "username"
                icon_right: "account"
                size_hint_x: None
                width: 200
                font_size: 18
                pos_hint: {'center_x': 0.5}
                
            MDTextField:
                id: password
                hint_text: "password"
                icon_right: "eye-off"
                size_hint_x: None
                width: 200
                font_size: 18
                pos_hint: {'center_x': 0.5}
                password: True
            
            MDFillRoundFlatButton:
                text: "LOG IN"
                font_size: 12
                pos_hint: {'center_x': 0.5}
                on_press: app.login_data()
            
            MDFillRoundFlatButton:
                text: "CLEAR"
                font_size: 12
                pos_hint: {'center_x': 0.5}
                on_press: app.clear()

            MDRoundFlatButton:
                text: "Crear cuenta"
                font_size: dp(12)
                pos_hint: {'center_x': 0.5}
                on_release: root.current = 'Register'

            Widget:
                size_hint_y: None
                height: 10
    
    Screen:
        name: "Register"

        MDCard:
            id: card
            size_hint: None, None
            size: 300, 600
            pos_hint: {'center_x': 0.5, 'center_y': 0.5}
            padding: 25
            spacing: 25
            orientation: 'vertical'

            MDBoxLayout:
                orientation: 'vertical'
                padding: dp(12)
                spacing: dp(12)
                MDFloatingActionButton:
                    icon: 'arrow-left'
                    pos_hint: {'center_y':.5}
                    on_release:
                        root.current = 'login'

            MDLabel:
                id: welcome_label
                text: "Register"
                font_size: dp(40)
                halign: 'center'
                
            MDTextField:
                id: user
                hint_text: "username"
                icon_right: "account"
                size_hint_x: None
                width: 200
                font_size: 18
                pos_hint: {'center_x': 0.5}
                
            MDTextField:
                id: password
                hint_text: "password"
                icon_right: "eye-off"
                size_hint_x: None
                width: 200
                font_size: 18
                pos_hint: {'center_x': 0.5}
                password: True

            MDTextField:
                id: password2
                hint_text: "password"
                icon_right: "eye-off"
                size_hint_x: None
                width: 200
                font_size: 18
                pos_hint: {'center_x': 0.5}
                password: True
            
            MDFillRoundFlatButton:
                text: "Register"
                font_size: 12
                text_color:
                pos_hint: {'center_x': 0.5}
                on_press: app.register_data()

            Widget:
                size_hint_y: None
                height: 10